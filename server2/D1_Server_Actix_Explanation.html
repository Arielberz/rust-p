<!doctype html>
<html lang="he" dir="rtl">
<head>
<meta charset="utf-8">
<title>D1 Server â€“ ×”×¡×‘×¨ ××œ× ×¢×œ ×”×§×•×“ (Actix-web)</title>
<style>
body{font-family:Arial,system-ui; background:#0b1020; color:#eef2ff; line-height:1.7; margin:0; padding:24px}
h1,h2,h3{color:#7aa2ff}
code,pre{background:#0a0f1f; color:#eaeaff; padding:10px; border-radius:10px; display:block; overflow:auto}
.section{background:#121a33; padding:18px; border-radius:16px; margin-bottom:20px}
.note{color:#b7c0ff}
.flow{background:#0f1730; border:1px dashed #7aa2ff; padding:12px; border-radius:12px}
</style>
</head>
<body>

<h1>ğŸ“˜ D1 Server â€“ ×”×¡×‘×¨ ××œ× ×•××“×•×™×§ ×¢×œ ×”×§×•×“</h1>
<p class="note">
××¡××š ×–×” ××¡×‘×™×¨ <b>×©×•×¨×”Ö¾×©×•×¨×”</b> ××™×š ×”×©×¨×ª ×©×œ×š ×¢×•×‘×“ ×‘Ö¾Rust ×¢× Actix-web,  
××™×š ×”×§×•×“ ×’×•×¨× ×œ×©×¨×ª ×œ×¨×•×¥, ×•××™×š ×‘×§×©×” ××’×™×¢×” ×œÖ¾handler ×•××—×–×™×¨×” ×ª×©×•×‘×”.
</p>

<div class="section">
<h2>1ï¸âƒ£ ××‘× ×” ×”×¤×¨×•×™×§×˜</h2>
<pre>
d1_server/
â”œâ”€ Cargo.toml
â””â”€ src/
   â””â”€ main.rs
</pre>
<ul>
<li><b>Cargo.toml</b> â€“ ×”×’×“×¨×•×ª ×”×¤×¨×•×™×§×˜ ×•×”×ª×œ×•×™×•×ª</li>
<li><b>main.rs</b> â€“ ×›×œ ×œ×•×’×™×§×ª ×”×©×¨×ª × ××¦××ª ×›××Ÿ</li>
</ul>
</div>

<div class="section">
<h2>2ï¸âƒ£ Cargo.toml â€“ ×œ××” ×”×•× ×§×¨×™×˜×™</h2>
<pre>
[package]
name = "d1_server"
version = "0.1.0"
edition = "2024"

[dependencies]
actix-web="4"
serde = {version="1.0" , features =["derive"]}
serde_json = "1.0"
uuid = {version ="1" , feature =["v4"]}
</pre>

<h3>××” ×–×” ××•××¨ ×‘×¤×•×¢×œ?</h3>
<ul>
<li><b>actix-web</b> â€“ ×¡×¤×¨×™×™×ª ×©×¨×ª HTTP</li>
<li><b>serde / serde_json</b> â€“ ×”××¨×” ×‘×™×Ÿ Rust â†” JSON</li>
<li><b>uuid</b> â€“ ×™×¦×™×¨×ª ××–×”×™× ×™×™×—×•×“×™×™× (ID)</li>
</ul>

<p class="note">
âš ï¸ ×©×™× ×œ×‘: ×‘Ö¾uuid ×¦×¨×™×š ×œ×”×™×•×ª <code>features</code> (×‘×¨×‘×™×).  
××‘×œ ×–×” ×œ× ××©×¤×™×¢ ×¢×œ ×”×§×•×“ ×”× ×•×›×—×™ ×›×™ uuid ×¢×“×™×™×Ÿ ×œ× ×‘×©×™××•×©.
</p>
</div>

<div class="section">
<h2>3ï¸âƒ£ ×™×™×‘×•× ×¡×¤×¨×™×•×ª (use)</h2>
<pre>
use actix_web::{get, App, HttpServer, Responder};
</pre>

<ul>
<li><b>get</b> â€“ ×××§×¨×• ×©××’×“×™×¨ Route ××¡×•×’ GET</li>
<li><b>App</b> â€“ ××™×™×¦×’ ××ª ××¤×œ×™×§×¦×™×™×ª ×”×©×¨×ª</li>
<li><b>HttpServer</b> â€“ ×”×©×¨×ª ×¢×¦××• ×©×××–×™×Ÿ ×œ×¤×•×¨×˜</li>
<li><b>Responder</b> â€“ trait ×©×××¤×©×¨ ×œ×”×—×–×™×¨ HTTP Response</li>
</ul>
</div>

<div class="section">
<h2>4ï¸âƒ£ ×”Ö¾Handler ×”×¨××©×•×Ÿ â€“ <code>GET /</code></h2>
<pre>
#[get("/")]
async fn hello() -> impl Responder {
    "Hello, world!"
}
</pre>

<h3>×”×¡×‘×¨:</h3>
<ul>
<li><code>#[get("/")]</code> â€“ ××’×“×™×¨ ×©×”×¤×•× ×§×¦×™×” ××˜×¤×œ×ª ×‘Ö¾GET ×œ× ×ª×™×‘ "/"</li>
<li><code>async fn</code> â€“ ×¤×•× ×§×¦×™×” ××¡×™× ×›×¨×•× ×™×ª</li>
<li><code>impl Responder</code> â€“ ×›×œ ×¢×¨×š ×©Ö¾Actix ×™×•×“×¢ ×œ×”×¤×•×š ×œÖ¾HTTP</li>
<li>×”××—×¨×•×–×ª ××•×—×–×¨×ª ×›×ª×©×•×‘×ª HTTP ×¢× ×¡×˜×˜×•×¡ 200</li>
</ul>
</div>

<div class="section">
<h2>5ï¸âƒ£ Handler × ×•×¡×£ â€“ <code>GET /api/persons</code></h2>
<pre>
#[get("/api/persons")]
async fn get_all_persons() -> impl Responder {
    "persons .....!"
}
</pre>

<p>
×–×”×• endpoint × ×•×¡×£ ×©××“××” API.  
×›×¨×’×¢ ×”×•× ××—×–×™×¨ ××—×¨×•×–×ª, ×•×‘×”××©×š ×™×—×–×™×¨ JSON.
</p>
</div>

<div class="section">
<h2>6ï¸âƒ£ ×”×¤×•× ×§×¦×™×” <code>main</code> â€“ ×›××Ÿ ×”×©×¨×ª ×‘×××ª ×¨×¥</h2>
<pre>
#[actix_web::main]
async fn main() -> std::io::Result<()> {
    HttpServer::new(|| App::new()
        .service(hello)
        .service(get_all_persons))
        .bind("127.0.0.1:3000")?
        .run()
        .await
}
</pre>

<h3>×¤×™×¨×•×§ ×œ×©×•×¨×•×ª:</h3>
<ul>
<li><code>#[actix_web::main]</code> â€“ ××¤×¢×™×œ runtime ××¡×™× ×›×¨×•× ×™ (Tokio)</li>
<li><code>HttpServer::new</code> â€“ ×™×•×¦×¨ ×©×¨×ª</li>
<li><code>App::new()</code> â€“ ×™×•×¦×¨ ××¤×œ×™×§×¦×™×” ×¨×™×§×”</li>
<li><code>.service(hello)</code> â€“ ×¨×™×©×•× route</li>
<li><code>.bind</code> â€“ ×—×™×‘×•×¨ ×œÖ¾IP ×•×¤×•×¨×˜</li>
<li><code>.run().await</code> â€“ ×œ×•×œ××ª ×”×©×¨×ª (×œ× × ×’××¨×ª)</li>
</ul>
</div>

<div class="section">
<h2>7ï¸âƒ£ ×–×¨×™××ª ×‘×§×©×” â€“ ××™ ×§×•×¨× ×œ××™</h2>
<div class="flow">
1ï¸âƒ£ ×‘×§×©×” × ×©×œ×—×ª ×œÖ¾http://127.0.0.1:3000/api/persons  
<br>2ï¸âƒ£ ××¢×¨×›×ª ×”×”×¤×¢×œ×” ××¢×‘×™×¨×” ××•×ª×” ×œ×¤×•×¨×˜ 3000  
<br>3ï¸âƒ£ HttpServer ××§×‘×œ ××ª ×”×‘×§×©×”  
<br>4ï¸âƒ£ App ××—×¤×© service ×ª×•××  
<br>5ï¸âƒ£ Actix ××¤×¢×™×œ ××ª <code>get_all_persons</code>  
<br>6ï¸âƒ£ ×”×¤×•× ×§×¦×™×” ××—×–×™×¨×” Responder  
<br>7ï¸âƒ£ Actix ×©×•×œ×— HTTP Response ×—×–×¨×” ×œ×œ×§×•×—
</div>
</div>

<div class="section">
<h2>8ï¸âƒ£ ×¡×™×›×•× ×§×¦×¨</h2>
<ul>
<li>×–×”×• ×©×¨×ª Actix ×ª×§×™×Ÿ ×œ×—×œ×•×˜×™×Ÿ</li>
<li>×”×›×œ × ××¦× ×‘×§×•×‘×¥ ××—×“ â€“ ××ª××™× ×œ×œ××™×“×”</li>
<li>×§×œ ×œ×¤×¦×œ ×‘×”××©×š ×œÖ¾routes / handlers / models</li>
</ul>
</div>

<p class="note" style="text-align:center">
âœ”ï¸ × ×‘× ×” ×›××¡××š ×œ×™××•×“×™ ×‘×¨×•×¨ ×•××“×•×™×§ ×œÖ¾Rust Backend
</p>

</body>
</html>
